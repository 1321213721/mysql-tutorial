(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{483:function(s,t,a){s.exports=a.p+"assets/img/image-20200623215307022.98d698a2.png"},484:function(s,t,a){s.exports=a.p+"assets/img/image-20200623222239413.9dde552d.png"},688:function(s,t,a){"use strict";a.r(t);var n=a(15),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"使用-portainer-管理-docker"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用-portainer-管理-docker"}},[s._v("#")]),s._v(" 使用 Portainer 管理 Docker")]),s._v(" "),n("p",[s._v("Docker 的管理界面有很多，这里推荐 Portainer，下面是他的管理界面")]),s._v(" "),n("p",[n("img",{attrs:{src:a(483),alt:"image-20200623215307022"}})]),s._v(" "),n("h2",{attrs:{id:"开放-dcoker-网络管理端口"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开放-dcoker-网络管理端口"}},[s._v("#")]),s._v(" 开放 Dcoker 网络管理端口")]),s._v(" "),n("p",[s._v("Portainer 之所以能管理 docker ，是因为它访问的是 Docker 网络管理端口，所以我们先放开。")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vi /etc/sysconfig/docker")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在配置文件末尾增加以下配置")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重要的就是这个端口，默认就是  2375")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("OPTIONS")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-Htcp://0.0.0.0:2375 -H unix:///var/run/docker.sock'")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 配置之后，需要重新启动 docker 服务")]),s._v("\n\nfirewall-cmd --zone"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("public --add-port"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2375")]),s._v("/tcp --permanent\nfirewall-cmd --reload\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# systemctl restart docker")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"安装-portainer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-portainer"}},[s._v("#")]),s._v(" 安装 Portainer")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull portainer/portainer")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -H 参数：写的是宿主机上的 IP 和端口")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@study ~"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -d -p 9000:9000 --name portainer portainer/portainer -H tcp://192.168.56.105:2375")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("容器启动后，访问：http://192.168.56.105:9000/ 就能进入到管理界面了")]),s._v(" "),n("p",[s._v("进入到管理界面之后，里面的内容和前面学到的 images、volumes、containers 等是对应的，只要前面认真学过了，这里的图形界面实现我们之前的操作，基本上都没有问题了。")]),s._v(" "),n("p",[s._v("创建容器时分配硬件资源，在前面没有学习过，如下图，可以分配使用的内存、CPU 等")]),s._v(" "),n("p",[n("img",{attrs:{src:a(484),alt:"image-20200623222239413"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);