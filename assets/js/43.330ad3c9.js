(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{442:function(t,v,_){t.exports=_.p+"assets/img/image-20200614211428024.43104823.png"},443:function(t,v,_){t.exports=_.p+"assets/img/image-20200614212702883.c4954030.png"},696:function(t,v,_){"use strict";_.r(v);var a=_(15),s=Object(a.a)({},(function(){var t=this,v=t.$createElement,a=t._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"数据库集群能解决什么问题？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#数据库集群能解决什么问题？"}},[t._v("#")]),t._v(" 数据库集群能解决什么问题？")]),t._v(" "),a("h2",{attrs:{id:"单节点和集群哪个读写更快？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单节点和集群哪个读写更快？"}},[t._v("#")]),t._v(" 单节点和集群哪个读写更快？")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("低并发情况下，单节点 MySQL 读写速度快")])]),t._v(" "),a("li",[a("p",[t._v("高并发情况下，MySQL 集群的读写速度更快")]),t._v(" "),a("p",[t._v("大量并发如果集中在一个 MySQL 节点上，先不说内存撑不撑得住，磁盘 IO 都撑不住。")])])]),t._v(" "),a("p",[t._v("数据库集群的思路：")]),t._v(" "),a("ul",[a("li",[t._v("读写分离方案")]),t._v(" "),a("li",[t._v("数据切分方案")])]),t._v(" "),a("p",[a("img",{attrs:{src:_(442),alt:"image-20200614211428024"}})]),t._v(" "),a("h2",{attrs:{id:"单节点数据库的弊病"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单节点数据库的弊病"}},[t._v("#")]),t._v(" 单节点数据库的弊病")]),t._v(" "),a("p",[t._v("大型互联网程序用户群庞大，所以架构必须要特殊设计，比如：")]),t._v(" "),a("ul",[a("li",[t._v("微信注册用户超 10 亿")]),t._v(" "),a("li",[t._v("新浪微博用户超 3.3 亿")]),t._v(" "),a("li",[t._v("今日头条用户超 2.4 亿")])]),t._v(" "),a("p",[t._v("单节点的数据库无法满足性能上的要求：单节点链接数量最大 16000 多，大量用户情况下，根本就应付不过来")]),t._v(" "),a("p",[t._v("单节点的数据库没有冗余设计，无法满足高可用：一个节点挂了，这个业务也就瘫痪了。")]),t._v(" "),a("p",[t._v("高并发下的数据库压力：2016 年除夕，微信共收发红包 "),a("strong",[t._v("142 亿")]),t._v(" 个，比上一年增长 75.7%，最高峰值每秒收发红包 "),a("strong",[t._v("76 万")]),t._v(" 个，支付峰值 "),a("strong",[t._v("20.8 万")]),t._v(" 次每秒，创下世界纪录。")]),t._v(" "),a("h2",{attrs:{id:"常见-mysql-集群方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见-mysql-集群方案"}},[t._v("#")]),t._v(" 常见 MySQL 集群方案")]),t._v(" "),a("p",[t._v("常见的 MySQL集群方案有：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("PXC ：同步传输")]),t._v(" "),a("p",[t._v("适合保存少量高价值数据")])]),t._v(" "),a("li",[a("p",[t._v("Replication：异步传输")]),t._v(" "),a("p",[t._v("适合保存大量数据")])])]),t._v(" "),a("h2",{attrs:{id:"pxc-与-replication-方案对比"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pxc-与-replication-方案对比"}},[t._v("#")]),t._v(" PXC 与 Replication 方案对比")]),t._v(" "),a("p",[a("img",{attrs:{src:_(443),alt:"image-20200614212702883"}})]),t._v(" "),a("ul",[a("li",[a("p",[t._v("PXC 方案：事务是同步的")]),t._v(" "),a("p",[t._v("执行一个事务，只有当数据同步到 slave 成功后，事务才能提交成功。")])]),t._v(" "),a("li",[a("p",[t._v("Replication：事务是异步的")]),t._v(" "),a("p",[t._v("在 master 上提交成功了，但是异步同步失败了，在 slave 中就无法查询到数据")])])]),t._v(" "),a("p",[t._v("他们不是竞争关系，而是互补关系")])])}),[],!1,null,null,null);v.default=s.exports}}]);