(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{440:function(s,t,a){s.exports=a.p+"assets/img/image-20200614150143627.b0245f27.png"},689:function(s,t,a){"use strict";a.r(t);var n=a(15),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"mysql-压力测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mysql-压力测试"}},[s._v("#")]),s._v(" MySQL 压力测试")]),s._v(" "),n("p",[s._v("由于我们练习使用的是虚拟机，无法测试 MySQL 的实际性能；但是把测试的方法学到了，就可以在任意的平台上去测试数据库的性能。")]),s._v(" "),n("h2",{attrs:{id:"什么是压力测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#什么是压力测试"}},[s._v("#")]),s._v(" 什么是压力测试")]),s._v(" "),n("p",[s._v("压力测试是针对系统的一种性能测试，但是测试数据 "),n("strong",[s._v("与业务逻辑无关")]),s._v("，更加 "),n("strong",[s._v("简单直接的测试读写性能")]),s._v("。")]),s._v(" "),n("h2",{attrs:{id:"压力测试的指标"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#压力测试的指标"}},[s._v("#")]),s._v(" 压力测试的指标")]),s._v(" "),n("p",[n("img",{attrs:{src:a(440),alt:"image-20200614150143627"}})]),s._v(" "),n("h2",{attrs:{id:"压力测试工具"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#压力测试工具"}},[s._v("#")]),s._v(" 压力测试工具")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("Mysqlslap：官方自带")]),s._v(" "),n("p",[s._v("需要对数据库进行长时间高并发测试，这个工具不就太合适了")])]),s._v(" "),n("li",[n("p",[s._v("Sysbench")]),s._v(" "),n("p",[s._v("长时间进行高并发测试")])]),s._v(" "),n("li",[n("p",[s._v("Jmeter")]),s._v(" "),n("p",[s._v("在数据库方面的测试功能较弱。不推荐")])])]),s._v(" "),n("h2",{attrs:{id:"sysbench-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sysbench-简介"}},[s._v("#")]),s._v(" Sysbench 简介")]),s._v(" "),n("p",[s._v("可以测试如下：")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("线程测试")]),s._v(" "),n("p",[n("code",[s._v("stench --test=threads --num-threads=64 --thread-yields=100 --thread-locks=2 run")])])]),s._v(" "),n("li",[n("p",[s._v("CPU 测试")]),s._v(" "),n("p",[n("code",[s._v("sysbench --test=cpu --cpu-max-prime=20000 run")])])]),s._v(" "),n("li",[n("p",[s._v("内存测试")]),s._v(" "),n("p",[n("code",[s._v("sysbench --test=memory --memory-block-size=8k --memory-total-size=4G run")])])]),s._v(" "),n("li",[n("p",[s._v("数据库测试")]),s._v(" "),n("p",[n("code",[s._v("sysbench --test=oltp --mysql-table-engine=myisam --oltp-table-size= 1000000")])])]),s._v(" "),n("li",[n("p",[s._v("磁盘测试")]),s._v(" "),n("p",[n("code",[s._v("sysbench--test=fileio--num-threads=16--file-total-size=3G--file-test-mode=rndrw run")])])])]),s._v(" "),n("h3",{attrs:{id:"安装-sysbench"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装-sysbench"}},[s._v("#")]),s._v(" 安装 Sysbench")]),s._v(" "),n("p",[s._v("笔者之前 "),n("RouterLink",{attrs:{to:"/mysql-tutorial/high-performance/02/05.html#sysbench"}},[s._v("也学过这个软件的测试")]),s._v("，可以参考下，说得更详细")],1),s._v(" "),n("p",[s._v("使用 yum 安装，"),n("a",{attrs:{href:"https://zq99299.github.io/linux-tutorial/tutorial-basis/22/03.html#%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F%E7%AB%99%EF%BC%88%E4%BB%93%E5%BA%93%E6%BA%90%EF%BC%89",target:"_blank",rel:"noopener noreferrer"}},[s._v("设置国内的 yum 源"),n("OutboundLink")],1),s._v("，简单说就是下载 repo 后缀的文件，放置到 "),n("code",[s._v("/etc/yum.repos.d")]),s._v(" 目录中。然后执行以下命令")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("yum clean all\nyum makecache\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装方式来自 https://github.com/akopytov/sysbench#installing-from-binary-packages")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -s https://packagecloud.io/install/repositories/akopytov/sysbench/script.rpm.sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum -y "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" sysbench\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("不要和 Mysql 8 安装在一台机器上，会有冲突")]),s._v(" "),n("h2",{attrs:{id:"sysbench-基本语法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#sysbench-基本语法"}},[s._v("#")]),s._v(" Sysbench 基本语法")]),s._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[s._v("sysbench script "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nscript: 官方自带了一些，足够我们使用了，在 sysbench /usr/share/sysbench/tests/include/ 下\n\noptions 链接信息参数\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--mysql-host"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：ip 地址\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--mysql-port"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：端口号\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--mysql-user"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：用户名\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--mysql-password"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：密码\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--oltp-test-mode"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：执行模式，simple、nontrx、complex\n  \tsimple: 只测试查询语句\n  \tnontrx：无事务测试，MyISAM 引擎\n  \tcomplex：事务测试，可以用于测试 InnoDB 引擎\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--oltp-tables-count"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：测试表的数量\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--oltp-table-size"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：测试表的记录数\n  \t它可以生成测试数据，通过这个指定生成的测试记录数量\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--threads"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：并发线程数\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--time"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：测试执行时间（秒）\n  "),n("span",{pre:!0,attrs:{class:"token variable"}},[n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("--report-interval"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("：生成报告单的间隔时间（秒）\n"),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("command")]),s._v(" 命令参数\n\tprepare：准备测试数据\n\trun：执行测试\n\tcleanup：清楚测试数据\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("下面来实践一下")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 运行之前，需要先手动创建一个数据库，数据库的名称是固定的：sbtest")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 生成测试数据")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@study")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# sysbench /usr/share/sysbench/tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.56.101 --mysql-port=3306 --mysql-user=root --mysql-password=123456 --oltp-tables-count=10 --oltp-table-size=100000 prepare")]),s._v("\n\nsysbench "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".20")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" bundled LuaJIT "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("beta2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nCreating "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nInserting "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000")]),s._v(" records "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest1'")]),s._v("\nCreating secondary indexes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nCreating "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nInserting "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000")]),s._v(" records "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest2'")]),s._v("\nCreating secondary indexes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nCreating "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest3'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nInserting "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100000")]),s._v(" records "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest3'")]),s._v("\nCreating secondary indexes "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'sbtest3'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 可以看到在创建一些表数据")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 执行测试")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 这里选择了：事务测试、10 个线程、执行 10 分钟、间隔 10 秒生成一次报告、把测试信息存储在 /home/report.log 中")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),n("span",{pre:!0,attrs:{class:"token variable"}},[s._v("@study")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  sysbench /usr/share/sysbench/tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.56.101 --mysql-port=3306 --mysql-user=root --mysql-password=123456 --oltp-test-mode=complex --threads=10 --time=600 --report-interval=10 run >> /home/report.log")]),s._v("\n\nsysbench "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".20")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" bundled LuaJIT "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.1")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("beta2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nRunning the test "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("following")]),s._v(" options:\nNumber "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" threads: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\nReport intermediate results every "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("second")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nInitializing random number generator "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("current")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),s._v("\n\n\nInitializing worker threads"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\nThreads started"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("s "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" thds: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tps: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("145.46")]),s._v(" qps: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2956.28")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("w"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("o: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2077.72")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("584.44")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("294.12")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" lat "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("97.55")]),s._v(" err"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("s: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.20")]),s._v(" reconn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("s: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("590")]),s._v("s "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" thds: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tps: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.00")]),s._v(" qps: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3408.96")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("w"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("o: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2391.17")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("677.89")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("339.90")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" lat "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("74.46")]),s._v(" err"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("s: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.90")]),s._v(" reconn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("s: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("s "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" thds: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" tps: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("170.00")]),s._v(" qps: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3446.17")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("r"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("w"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("o: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2419.98")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("683.59")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("342.60")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" lat "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75.82")]),s._v(" err"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("s: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.60")]),s._v(" reconn"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("s: "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SQL")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("statistics")]),s._v(":\n    queries performed: "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 执行查询次数")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("read")]),s._v(":                            "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1447810")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("write")]),s._v(":                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("408935")]),s._v("\n        other:                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("205172")]),s._v("\n        total:                           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2061917")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读写、其他总计")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("transactions")]),s._v(":                        "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("101757")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("169.57")]),s._v(" per sec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 事务，平均每秒钟执行 169 次")]),s._v("\n    queries:                             "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2061917")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("3436.11")]),s._v(" per sec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查询，每秒钟执行 3436 次")]),s._v("\n    ignored "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("errors")]),s._v(":                      "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("1658")]),s._v("   "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.76")]),s._v(" per sec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\t"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 错误：数据库节点在慢负荷运行时，新的请求进来，得不到处理，就超时了")]),s._v("\n    reconnects:                          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.00")]),s._v(" per sec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nGeneral "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("statistics")]),s._v(":\n    total "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),s._v(":                          "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("600.0713")]),s._v("s\n    total number "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("of")]),s._v(" events:              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("101757")]),s._v("\n\nLatency "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ms"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n         min:                                   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.51")]),s._v("\n         avg:                                   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("58.97")]),s._v("\n         max:                                  "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("233.36")]),s._v("\n         "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("95")]),s._v("th percentile:                       "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("75.82")]),s._v("\n         sum:                              "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6000151.10")]),s._v("\n\nThreads fairness:\n    events "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stddev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":           "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("10175.7000")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("100.18")]),s._v("\n    execution "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("time")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("avg"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("stddev"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":   "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("600.0151")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v("\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br"),n("span",{staticClass:"line-number"},[s._v("61")]),n("br"),n("span",{staticClass:"line-number"},[s._v("62")]),n("br"),n("span",{staticClass:"line-number"},[s._v("63")]),n("br"),n("span",{staticClass:"line-number"},[s._v("64")]),n("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);