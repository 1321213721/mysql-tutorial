# 技术选型之数据库选型

技术选型，带大家从一开始就高起点，赢在起跑线上。本章主要内容就是来比较一下常见的两种数据存储系统关系型数据库和非关系型数据库的主要特点，以及他们各自适用的场景，让我们在做出选择时不再迷茫。

## SQL VS NOSQL

数据的操作方式来看

- SQL：通常是事务性数据库，且使用 SQL 操作数据
  - MySQL
  - Oracle
  - SQLServer
  - PostGreSQL
- NO SQL：通常是非关系型数据库，不是用 SQL 操作数据
  - HBase
  - MongoDB
  - Redis
  - Hadoop

## 关系型数据库的特点

- 数据结构化存储在二维表中

  | 姓名 | 姓名 | 生日       |
  | ---- | ---- | ---------- |
  | 张三 | 男   | 1980-01-28 |
  | 李四 | 男   | 1991-02-03 |

  随着数据库的发展，也支持将 JSON 这种非结构化的存储在表中（仅限使用 JSON 类型的列）

- 支持事物的 ACID 特性

  - A：原子性
  - C：一致性
  - I：隔离性
  - D：持久性

- 支持使用 SQL 语言对存储在其中的数据进行操作

## 关系数据库的使用场景

- 数据之间存在一定关系，需要关联查询数据的场景

  如：一个订单，有多个商品

- 需要事物支持的业务场景

  如：电商、金融类的场景

- 需要使用 SQL 语言灵活操作数据的场景

## 非关系数据库的特点

- 存储结构灵活，没有固定的结构

  ```json
  {"姓名":"张三","性别"："男"}
  {"姓名":"张三","性别"："男","生日":"2010-02-01"}
  ```

  比较灵活，可以随意新增字段

- 对事物的支持比较弱，但对数据的并发处理性能高

- 大多不使用 SQL 语言操作数据

## 非关系数据库的适用场景

- 数据库结构不固定的场景

  比如：某些产品有长宽属性，某些产品有颜色、味道等属性

- 对事物要求不高，但读写并发比较大的场景

  比如：日志监控类、用户行为分析类

- 对数据的处理操作比较简单的场景

  由于不支持 SQL 语言，在一定程度上没有 SQL 这么灵活查询，表关联等

## 关系数据库选型原则

- 数据库使用的广泛性

  当出现问题的时候，有足够多的资料支持，使用广泛，表示认可程度较高

- 数据库的可扩展性

  数据库性能一般决定了系统的性能，是否有足够的性能和可扩展性，尤为重要

- 数据库的安全性和稳定性

- 数据库所支持的系统

  能否支持我们服务器操作系统的版本，因为某些服务器系统是需要收费的

- 数据库的使用成本

  首先是软件的使用成本，是否收费？是否比较容易找到数据库运维人员和开发人员



###  MySQL 使用的广泛性

可通过 [榜单](https://db-engines.com/en/ranking) 来获取

![image-20200413230903756](./assets/image-20200413230903756.png)

### MySQL 可扩展性

- 支持基于二进制日志的逻辑复制
- 存在多种第三方数据库中间层，支持读写分离及分库分表

### MySQL安全性和稳定性

- MySQL 主从复制集群可达 99% 的可用性

- 配合主从复制高可用架构可达 99.99% 的可用性

- 支持对存储在 MySQL 的数据进行分级安全控制

  比如：对数据库实例、表等层面进行权限的控制

### MySQL 所支持的系统

- Linux 系统
- windows 系统

### MySQL的使用成本

- 社区版本免费
- 使用人员众多，可以方便的获取技术支持

## 实战环境部署

使用 VirtualBox 来安装 CentOS7 系统，这部分请参考笔者的 [另外一个笔记章节](https://zq99299.github.io/linux-tutorial/tutorial-basis/03/02.html#%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85-centos-7)

续看 2-7_1