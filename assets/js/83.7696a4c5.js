(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{665:function(v,_,p){"use strict";p.r(_);var t=p(15),l=Object(t.a)({},(function(){var v=this,_=v.$createElement,p=v._self._c||_;return p("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[p("h1",{attrs:{id:"技术面试（初级）"}},[p("a",{staticClass:"header-anchor",attrs:{href:"#技术面试（初级）"}},[v._v("#")]),v._v(" 技术面试（初级）")]),v._v(" "),p("p",[v._v("从开发角度审视数据库的设计细节，就如同前面讲解的几个知识点。")]),v._v(" "),p("p",[v._v("要点回顾：")]),v._v(" "),p("ul",[p("li",[p("p",[v._v("为了方便把数据迁移到集群，主键该不该用 UUID")])]),v._v(" "),p("li",[p("p",[v._v("订单号与流水号是不是一回事？")]),v._v(" "),p("p",[v._v("订单号必须满足唯一性，而流水号不用满足强一致性")]),v._v(" "),p("p",[v._v("流水号能携带比订单号更多的信息")])]),v._v(" "),p("li",[p("p",[v._v("如果系统上线了，你这么维护表结构？")]),v._v(" "),p("p",[v._v("不影响业务的维护操作可以在线执行，先做好备份。")]),v._v(" "),p("p",[v._v("影响业务的维护操作，要使用专门的工具，如 PerconaToolkit 工具")])]),v._v(" "),p("li",[p("p",[v._v("系统内部的业务图片怎么存储？")]),v._v(" "),p("p",[v._v("小型方案：使用图床服务器， nginx 或云存储")]),v._v(" "),p("p",[v._v("专业方案：使用 MongoDB 的 GridFS 搭建集群图床服务器")])]),v._v(" "),p("li",[p("p",[v._v("你们系统的负载怎么样？")]),v._v(" "),p("p",[v._v("读多写少的方案：MySQL + NoSQL")]),v._v(" "),p("p",[v._v("写多读少的方案：MySQL + TokuDB")])]),v._v(" "),p("li",[p("p",[v._v("数据表用逻辑删除还是物理删除？")]),v._v(" "),p("p",[v._v("使用逻辑删除，定时归档历史表")])]),v._v(" "),p("li",[p("p",[v._v("数据记录很多的时候，如何对分页语句优化？")]),v._v(" "),p("p",[v._v("用主键索引加速，然后用表连接获取具体数据。")])]),v._v(" "),p("li",[p("p",[v._v("怎么避免并发操作的时候，数据不一致的问题？")]),v._v(" "),p("p",[v._v("使用乐观锁机制，在数据中加上版本号字段，先获取版本号，再更新的时候使其作为条件，因为由行级锁，所以在数据库层面会保证这个版本号判定是原子的。别的事务修改成功之后，你拿到的版本号就对不上，修改失败了")])])])])}),[],!1,null,null,null);_.default=l.exports}}]);