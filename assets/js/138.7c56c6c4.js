(window.webpackJsonp=window.webpackJsonp||[]).push([[138],{581:function(s,a,n){"use strict";n.r(a);var t=n(15),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),n("h2",{attrs:{id:"在-sql-开发中容易犯的错误"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#在-sql-开发中容易犯的错误"}},[s._v("#")]),s._v(" 在 SQL 开发中容易犯的错误")]),s._v(" "),n("ul",[n("li",[n("p",[s._v("使用 "),n("code",[s._v("count(*)")]),s._v(" 判断是否存在符合条件的数据")]),s._v(" "),n("p",[s._v("可以使用 "),n("code",[s._v("SELECT ... LIMIT 1")]),s._v(" 来，因为有优化")]),s._v(" "),n("p",[s._v("注意：笔者这里没有 get 到点，到底说的是怎么判断？")])]),s._v(" "),n("li",[n("p",[s._v("在执行一个更新语句后，使用查询方式判断此更新语句是否有执行成功")]),s._v(" "),n("p",[s._v("可以使用 "),n("code",[s._v("ROW_COUNT()")]),s._v(" 函数判断修改的行数")])]),s._v(" "),n("li",[n("p",[s._v("试图在 ON 条件中过滤不满足条件的记录")]),s._v(" "),n("div",{staticClass:"language-sql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 查询出分类 iD = 5 的课程名称和分类名称")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" ic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class_id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class_id\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" imc_class ic\n         "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("left")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("join")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 这里使用了左外连接")]),s._v("\n         imc_course i "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" ic"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class_id \n         "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("and")]),s._v(" i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("class_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 并在 ON 后面使用了 and 过滤")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 这里其实是一个坑，左外连接，左边全都出来，这里判定了一个右表的数据，所以就不满足我们的要求了")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])])])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("  \n  | class\\_id | title | class\\_id |\n  | :--- | :--- | :--- |\n  | 5 | MySQL课程-04097 | 5 |\n  | 5 | MySQL课程-84741 | 5 |\n  | 5 | SQLServer课程-84646 | 5 |\n  | 5 | SQLServer课程-73954 | 5 |\n  | 5 | MySQL课程-56069 | 5 |\n  | 5 | PostgreSQL课程-49682 | 5 |\n  | 5 | MySQL课程-53657 | 5 |\n  | 1 | NULL | 1 |\n  | 2 | NULL | 2 |\n  | 3 | NULL | 3 |\n  \n  可以看到，不为 5 的也会出现，但是只有为 5 的 title 有数据，其他的没有是因为生效的是右边的过滤数据。右边都过滤掉了，这行数关联的部分就不会显示出来了\n  \n  **避免这种误操作的情况：**在 where 中过滤\n  \n- 在使用 IN 进行子查询的判断时，在列中未指定正确的表名\n\n  如：`select A1 from A where A1 in (select A1 from B)`，这时尽管 B 中并不存在 A1 列的数据，也不会报错，而是会列出 A 表中的所有数据。\n\n  ```sql\n  -- 查询课程名称在 imc_user 中存在的 title；我们知道 在 imc_user 中根本就没有 title\n  select * from imc_course where title in (select title from imc_user)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br")])]),n("p",[s._v("这个错误不太好查找，因为不会报错。")]),s._v(" "),n("p",[s._v("避免：使用表名来限定列名称，如 "),n("code",[s._v("imc_user.title")]),s._v(" 这就会报错了，该表中的确没有这个列")]),s._v(" "),n("ul",[n("li",[s._v("对于表中定义的具有 not null 和 default 值的列，在插入数据时直接插入 NULL 值")])]),s._v(" "),n("h2",{attrs:{id:"知识点回顾"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#知识点回顾"}},[s._v("#")]),s._v(" 知识点回顾")]),s._v(" "),n("ul",[n("li",[s._v("如何使用 DCL 语句来管理数据库的访问")]),s._v(" "),n("li",[s._v("如何使用 DDL 语句来建立数据库对象")]),s._v(" "),n("li",[s._v("如何使用 DML 语句来操作数据库中的数据")]),s._v(" "),n("li",[s._v("MySQL 常用的系统函数")]),s._v(" "),n("li",[s._v("MySQL 8.0 新增的通用表达式和窗口函数\n"),n("ul",[n("li",[s._v("通用表达式：代替子查询")]),s._v(" "),n("li",[s._v("窗口函数：适合用在统计分析类的场景，提高效率")])])]),s._v(" "),n("li",[s._v("在 SQL 开发中容易犯的错误")])])])}),[],!1,null,null,null);a.default=e.exports}}]);