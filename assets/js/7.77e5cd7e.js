(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{382:function(t,s,v){t.exports=v.p+"assets/img/image-20200602223704818.37fc9f44.png"},383:function(t,s,v){t.exports=v.p+"assets/img/image-20200602225128185.f3340fc8.png"},384:function(t,s,v){t.exports=v.p+"assets/img/image-20200602230528749.f06a294c.png"},385:function(t,s,v){t.exports=v.p+"assets/img/image-20200603213714257.7e41cbb8.png"},386:function(t,s,v){t.exports=v.p+"assets/img/image-20200603214945548.84599b48.png"},387:function(t,s,v){t.exports=v.p+"assets/img/image-20200603215218640.8c5ade5a.png"},388:function(t,s,v){t.exports=v.p+"assets/img/image-20200603215422713.bfdee450.png"},389:function(t,s,v){t.exports=v.p+"assets/img/image-20200603215726550.8b4fca61.png"},390:function(t,s,v){t.exports=v.p+"assets/img/image-20200603215918744.65db7a28.png"},638:function(t,s,v){"use strict";v.r(s);var _=v(15),a=Object(_.a)({},(function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"什么是-spu-sku"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是-spu-sku"}},[t._v("#")]),t._v(" 什么是 SPU/SKU")]),t._v(" "),_("p",[t._v("设计数据库时，需要考虑好每一个业务的细节，只有这样设计出来的数据库，才能业务的需求。")]),t._v(" "),_("p",[t._v("那么首先就要搞明白一些核心概念。")]),t._v(" "),_("h2",{attrs:{id:"本门课程设计什么样的新零售系统？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#本门课程设计什么样的新零售系统？"}},[t._v("#")]),t._v(" 本门课程设计什么样的新零售系统？")]),t._v(" "),_("p",[_("img",{attrs:{src:v(382),alt:"image-20200602223704818"}})]),t._v(" "),_("p",[t._v("目前有很多家在做新零售，做的比较好的是苏宁易购，我们就以苏宁易购来作为参考。如果要设计苏宁易购全部的数据库可能要用到上千张表，而且很多业务不适合其他的零售企业，这里提炼了一些通用的业务模块。")]),t._v(" "),_("h2",{attrs:{id:"零售系统数据库设计的困难"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#零售系统数据库设计的困难"}},[t._v("#")]),t._v(" 零售系统数据库设计的困难")]),t._v(" "),_("p",[t._v("新零售或电商系统的数据库是最难设计的。比如：团队正在开发一个酒店管理系统，是围绕客房展开的，但是每间客房的具体情况也许不同，有的是家庭房、大床房、有的是朝南、朝北，虽然说 "),_("strong",[t._v("属性值不同")]),t._v("，但是每间客房的 "),_("strong",[t._v("属性数量是相同的")]),t._v("。这种在设计数据表的时候就非常的简单。")]),t._v(" "),_("p",[t._v("再比如说，在线教育系统，里面的商品就是课程，每门课程的属性也是相同的，比如时长、名称、介绍、大纲等等，所以非常好提炼数据表。")]),t._v(" "),_("p",[t._v("但是对于新零售或则电商来说，就很难提炼。因为售卖的商品属于不同的种类，商品之间的属性还不同。比如食品有保质期，衣服没有保质期。再比如每种商品都有不同的销售方案，比如 32g 的「小米手机 9」 和 64g 的 「小米手机 9」 是属于两个 "),_("strong",[t._v("商品")]),t._v("，在设计数据表的时候，需要考虑 "),_("strong",[t._v("产品")]),t._v(" 和 "),_("strong",[t._v("商品")]),t._v(" 之间的对应关系，当用户搜索「小米手机 9 」的时候才能看到各种不同的销售方案。")]),t._v(" "),_("p",[t._v("从以上看来，电商的数据库设计难度是真不小。")]),t._v(" "),_("h2",{attrs:{id:"产品和商品"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#产品和商品"}},[t._v("#")]),t._v(" 产品和商品")]),t._v(" "),_("p",[t._v("新零售最难设计的就是 "),_("strong",[t._v("产品和商品之间的关系")])]),t._v(" "),_("p",[_("img",{attrs:{src:v(383),alt:"image-20200602225128185"}})]),t._v(" "),_("p",[t._v("比如在发布会上发布了 iPhone X，讲解的基本上是他们的共性信息，他们是 "),_("strong",[t._v("产品")]),t._v("，但是 128G 黑色 iPhone X 才是一个具体的 "),_("strong",[t._v("商品")]),t._v("。")]),t._v(" "),_("p",[t._v("也就是说我们应该设计两张表："),_("strong",[t._v("产品表")]),t._v(" 和 "),_("strong",[t._v("商品表")])]),t._v(" "),_("h2",{attrs:{id:"spu"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#spu"}},[t._v("#")]),t._v(" SPU")]),t._v(" "),_("p",[_("strong",[t._v("SPU 全称 Standard Product Unit，是标准产品单位。SPU 描述一个产品的各种特性。")])]),t._v(" "),_("ul",[_("li",[_("p",[t._v("ThinkPad：产品")]),t._v(" "),_("p",[t._v("有各种的销售方案，4K 屏、黑色、32G 内存等；商品")])]),t._v(" "),_("li",[_("p",[t._v("小米 9：产品")]),t._v(" "),_("p",[t._v("也有各种的销售方案，黑色、128g、红色；商品")])]),t._v(" "),_("li",[_("p",[t._v("技嘉 1060 显卡产品")]),t._v(" "),_("p",[t._v("有 2G、4G、6G 版本；商品")])])]),t._v(" "),_("p",[t._v("抛开下面的各种销售方案，他们描述的是共性的东西，所以他们是属于 "),_("strong",[t._v("产品")]),t._v(" 表")]),t._v(" "),_("h2",{attrs:{id:"什么时候胡用到-spu？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么时候胡用到-spu？"}},[t._v("#")]),t._v(" 什么时候胡用到 SPU？")]),t._v(" "),_("p",[t._v("有可能会决定商品表会重要一些，下订单的时候关联的是商品表。")]),t._v(" "),_("p",[t._v("那么产品表有什么作用呢？比如去搜索  Ipad ，出现了如下的商品列表")]),t._v(" "),_("p",[_("img",{attrs:{src:v(384),alt:"image-20200602230528749"}})]),t._v(" "),_("p",[t._v("这些商品列表一般电商平台会这样做：")]),t._v(" "),_("ol",[_("li",[t._v("根据搜索的关键字去 "),_("strong",[t._v("产品表")]),t._v(" 检索产品表的主键 ID")]),t._v(" "),_("li",[t._v("去商品表中搜索 Ipad 产品对应的 "),_("strong",[t._v("商品中哪个商品方案")]),t._v(" 卖得最好")]),t._v(" "),_("li",[t._v("于是这家店铺销量最高的 ipad "),_("strong",[t._v("商品")]),t._v(" 方案就被检索出来了")])]),t._v(" "),_("p",[t._v("**为什么不去直接搜索商品表中的记录？**因为：")]),t._v(" "),_("ul",[_("li",[t._v("一个产品有多个商品，产品表的数量远远少于商品表；")]),t._v(" "),_("li",[t._v("先检索产品表，再检索商品表，这样速度相对来说要快很多")]),t._v(" "),_("li",[t._v("再结合索引，就更快了")])]),t._v(" "),_("h2",{attrs:{id:"sku"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sku"}},[t._v("#")]),t._v(" SKU")]),t._v(" "),_("p",[t._v("SKU 全称 Stock Keeping Unit ，库存进出计量的单位，SKU 是物理上不可分割的最小存货单元。")]),t._v(" "),_("p",[_("img",{attrs:{src:v(385),alt:"image-20200603213714257"}})]),t._v(" "),_("p",[t._v("如上图，选择的网络类型、机身颜色、套餐类型、存储容量这些组成了一个商品。")]),t._v(" "),_("p",[t._v("那么 "),_("strong",[t._v("库存")]),t._v(" 字段是否应该存在 SKU 表中？答案是：看业务，比如这个业务场景中：一个大型连锁店的每个店铺库存都不是一样的，所以一个在 sku 与 库存的交叉表中存在。")]),t._v(" "),_("h2",{attrs:{id:"sku-与权重"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sku-与权重"}},[t._v("#")]),t._v(" SKU 与权重")]),t._v(" "),_("ul",[_("li",[t._v("B2B 电商平台，就是类似淘宝这样的电商平台。企业开店，卖东西给客户。")]),t._v(" "),_("li",[t._v("B2C：类似苏宁易购这样的平台，自己搭建平台，将商品卖给客户。")])]),t._v(" "),_("p",[t._v("京东是既有 B2B 又有 B2C ，是混合模式。下图是淘宝电商这样的 B2B 模式：淘宝防止店铺卖出商品之后，偷偷修改 SKU 商品信息，于是 "),_("strong",[t._v("将 SKU 的商品信息与商品的搜索权重绑定")]),t._v(" 在一起，只要修改 SKU 商品信息就会影响该商品的搜索权重，甚至严重的话会下架商品。")]),t._v(" "),_("p",[_("img",{attrs:{src:v(386),alt:"image-20200603214945548"}})]),t._v(" "),_("p",[t._v("比如你购买的时候是「进口」奶粉，当你发现被骗的时候，去维权，然后商家连夜修改商品信息去掉了「进口」。这就会造成纠纷。与权重绑定，在很大程度上，能遏制这种操作。")]),t._v(" "),_("p",[t._v("并不是所有的信息都会触发权重的变更，比如给这件衣服添加尺码和颜色，因为尺码和颜色是一个新的 sku。")]),t._v(" "),_("p",[_("strong",[t._v("对于新零售平台来说")]),t._v("，主要是 B2C 的，所以修改 SKU 对权重的影响不大。但是 B2B 平台，修改 SKU 对商品权重影响很大。")]),t._v(" "),_("h2",{attrs:{id:"sku-与参数如何对应？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#sku-与参数如何对应？"}},[t._v("#")]),t._v(" SKU 与参数如何对应？")]),t._v(" "),_("p",[_("img",{attrs:{src:v(387),alt:"image-20200603215218640"}})]),t._v(" "),_("p",[t._v("衣服和手机不是一个品类，他们的参数也不同，在数据表的设计上，就显得很困难。")]),t._v(" "),_("h2",{attrs:{id:"这样设计-sku-表可以吗？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#这样设计-sku-表可以吗？"}},[t._v("#")]),t._v(" 这样设计 SKU 表可以吗？")]),t._v(" "),_("p",[_("img",{attrs:{src:v(388),alt:"image-20200603215422713"}})]),t._v(" "),_("p",[t._v("将所有的参数字段都统计出来，像淘宝这样的平台，那么多的品类，参数字段可能需要几万个。这样设计肯定是不行的")]),t._v(" "),_("h2",{attrs:{id:"如何设计品类参数？"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#如何设计品类参数？"}},[t._v("#")]),t._v(" 如何设计品类参数？")]),t._v(" "),_("p",[_("img",{attrs:{src:v(389),alt:"image-20200603215726550"}})]),t._v(" "),_("p",[t._v("如图，在参数表中包含了一个品类的所有参数，增加或删除参数，值需要修改参数表的一行数据就可以了。")]),t._v(" "),_("h2",{attrs:{id:"参数与-sku-的关系"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参数与-sku-的关系"}},[t._v("#")]),t._v(" 参数与 SKU 的关系")]),t._v(" "),_("p",[_("img",{attrs:{src:v(390),alt:"image-20200603215918744"}})]),t._v(" "),_("p",[t._v("一个产品只属于一个品类。一个产品有多个商品。这 4 张表可以关联出一个 SKU 商品的所有参数")])])}),[],!1,null,null,null);s.default=a.exports}}]);