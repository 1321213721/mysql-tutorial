(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{418:function(t,a,v){t.exports=v.p+"assets/img/image-20200607210627524.7c199ccf.png"},419:function(t,a,v){t.exports=v.p+"assets/img/image-20200607211404137.326835bf.png"},420:function(t,a,v){t.exports=v.p+"assets/img/image-20200607211346366.3b2ba4fc.png"},421:function(t,a,v){t.exports=v.p+"assets/img/image-20200607211831410.579d45de.png"},659:function(t,a,v){"use strict";v.r(a);var _=v(15),s=Object(_.a)({},(function(){var t=this,a=t.$createElement,_=t._self._c||a;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"读多写少和读多写多"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#读多写少和读多写多"}},[t._v("#")]),t._v(" 读多写少和读多写多")]),t._v(" "),_("p",[t._v("本节没有什么动手操作，介绍一些业务场景下，如何更好的使用 MySQL 数据库。")]),t._v(" "),_("h2",{attrs:{id:"读多写少"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#读多写少"}},[t._v("#")]),t._v(" 读多写少")]),t._v(" "),_("p",[t._v("普遍来说，绝大多数的系统都是读多写少的，比如：")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("电商系统：")]),t._v(" "),_("p",[t._v("如：购买商品，大部分的时间都是在浏览商品，只有在下订单的时候才产生写操作。")])]),t._v(" "),_("li",[_("p",[t._v("新闻系统")])]),t._v(" "),_("li",[_("p",[t._v("论坛系统")])]),t._v(" "),_("li",[_("p",[t._v("在线教育系统")])])]),t._v(" "),_("p",[t._v("这种场景中，使用普通的关系型数据库就可以实现，并发大的话，还可以使用数据库集群。")]),t._v(" "),_("h2",{attrs:{id:"写多读少"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#写多读少"}},[t._v("#")]),t._v(" 写多读少")]),t._v(" "),_("p",[t._v("比如滴滴打车：下单之后，会将行程信息轨迹不断上传到服务器，进行写入，很少会查询这次行程的所有信息。")]),t._v(" "),_("p",[_("img",{attrs:{src:v(418),alt:"image-20200607210627524"}})]),t._v(" "),_("p",[t._v("还比如：大学食堂系统，大量的刷卡信息被写入，这些信息却很少被查询")]),t._v(" "),_("p",[t._v("那么写多读少的场景使用普通关系型数据库可以吗？")]),t._v(" "),_("h2",{attrs:{id:"写多读少的解决方案"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#写多读少的解决方案"}},[t._v("#")]),t._v(" 写多读少的解决方案")]),t._v(" "),_("ul",[_("li",[_("p",[t._v("如果是低价值的数据，可以采用 NoSQL 数据库来存储这些数据")]),t._v(" "),_("p",[t._v("比如行程坐标，数据量大，但是每一条数据的价值不是很大，采用事务型数据库，由于事务机制，写入就很慢；")]),t._v(" "),_("p",[_("img",{attrs:{src:v(419),alt:"image-20200607211404137"}})]),t._v(" "),_("p",[t._v("传统数据使用 MySQL，低价值数据使用 NoSQL")])]),t._v(" "),_("li",[_("p",[t._v("如果是高价值的数据，可以用 TokuDB 来保存")]),t._v(" "),_("p",[t._v("由于 NoSQL 大部分都不支持事物，所以需要使用事务型的数据库来写入。")]),t._v(" "),_("p",[t._v("TokuDB 的写入速度是 InnoDB 的 9~20 倍。")]),t._v(" "),_("p",[_("img",{attrs:{src:v(420),alt:"image-20200607211346366"}})]),t._v(" "),_("p",[t._v("传统数据使用 MySQL，高价值写入多使用 TokuDB 来写入。")])])]),t._v(" "),_("h2",{attrs:{id:"写多读多"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#写多读多"}},[t._v("#")]),t._v(" 写多读多")]),t._v(" "),_("p",[t._v("这种场景并不多见，非常特殊。")]),t._v(" "),_("p",[t._v("比如微信、QQ都有离线留言的功能。这两个的软件用户很多，有很多离线消息需要存储，用户上线之后，需要获取离线消息。所以在数据库这里看，就是读多写多的。")]),t._v(" "),_("p",[t._v("传统关系型数据库是没有办法承载这种场景的。可以使用 NoSQL 来存储")]),t._v(" "),_("h2",{attrs:{id:"数据库集群方案缺点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据库集群方案缺点"}},[t._v("#")]),t._v(" 数据库集群方案缺点")]),t._v(" "),_("p",[t._v("数据库集群的 "),_("strong",[t._v("读写速度低于单节点数据库实例")])]),t._v(" "),_("p",[_("img",{attrs:{src:v(421),alt:"image-20200607211831410"}})]),t._v(" "),_("p",[t._v("例如：MyCat 通过路由插入到集群上某一个节点上。因为需要做一些额外的操作，因此相比慢。")]),t._v(" "),_("p",[t._v("我们使用他是看中了它的优点")]),t._v(" "),_("h2",{attrs:{id:"数据库集群方案优点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数据库集群方案优点"}},[t._v("#")]),t._v(" 数据库集群方案优点")]),t._v(" "),_("p",[t._v("数据库集群能支持 "),_("strong",[t._v("更大规模的并发访问")]),t._v("，并且 "),_("strong",[t._v("存放更多的数据")])])])}),[],!1,null,null,null);a.default=s.exports}}]);